<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <link rel="stylesheet" href="table.css" />
    </head>
    <script>
      async function carregarCursos() {
          try {
              // Fazendo a requisição para o backend
              const resposta = await fetch('http://localhost:3000/api/cursos');
              const cursos = await resposta.json();

              // Pegando o elemento <select>
              const select = document.getElementById('selecao-cursos');

              // Adicionando os cursos ao <select>
              cursos.forEach(curso => {
                  const option = document.createElement('option');
                  option.value = curso.id;
                  option.textContent = curso.nome;
                  select.appendChild(option);
              });
          } catch (error) {
              console.error('Erro ao carregar os cursos:', error);
          }
      }

      // Carregar os cursos ao carregar a página
      window.onload = carregarCursos;
  </script>
</head>    
    <body>
        <div id="body">
            <img src="images/logo.png" alt="LOGO AEAN" />
        </div>
        <div class="form-popup" id="myForm"></div>
            <form class="form-container">
                <h1>Candidatura</h1>

                <label for="email"><b>Nome</b></label>
                <input id="email" type="text" placeholder="Nome (Aluno)" name="email" required>

                <label for="nome">Email</label>
                <input id="nome" type="text" placeholder="Email (Aluno)" name="nome" required>

                <label for="dob">Telefone</label>
                <input id="dob" type="text" placeholder="telefone (Aluno)" name="dob" required>

                <label for="dob">Morada</label>
                <input id="dob" type="text" placeholder="Morada" name="dob" required>

                <label for="dob">Data de nascimento</label>
                <input id="dob" type="text" placeholder="Data de Nascimento" name="dob" required>

                <label for="dob">Cartão de cidadão</label>
                <input id="dob" type="text" placeholder="Cartão de cidadão (Aluno)" name="dob" required>

                <label for="dob">Contrinuinte</label>
                <input id="dob" type="text" placeholder="Contrinuinte (Aluno)" name="dob" required>

                <label for="dob">curso</label>
                <select id="dob" type="text" placeholder="Curso" name="dob" required>

                <label for="dob">Habilitações</label>
                <input id="dob" type="text" placeholder="Habilitações" name="dob" required>
                
                <br>
                <button type="submit" class="btn">Enviar</button>
            </form> 
        </div>
        <div id="container">
            <div id="success-box">
              <div class="dot"></div>
              <div class="dot two"></div>
              <div class="face">
                <div class="eye"></div>
                <div class="eye right"></div>
                <div class="mouth happy"></div>
              </div>
              <div class="shadow scale"></div>
              <div class="message"><h1 class="alert">Candidatura Enviada!</h1><p>Parabens! A Tua candidatura foi enviada com sucesso.</p></div>
              <button class="button-box" onclick="closeNotification()"><h1 class="green">continuar</h1></button>
            </div>
            <div id="error-box">
              <div class="dot"></div>
              <div class="dot two"></div>
              <div class="face2">
                <div class="eye"></div>
                <div class="eye right"></div>
                <div class="mouth sad"></div>
              </div>
              <div class="shadow move"></div>
              <div class="message"><h1 class="alert">Erro!</h1><p>Oops... Alguma coisa deu errado! Tenta novamente daqui a pouco ou contacta o nosso suporte!</div>
              <button class="button-box" onclick="closeNotification()"><h1 class="red">tentar novamente</h1></button>
            </div>
          </div>
    </body>
    <script src="form.js"></script>
</html>